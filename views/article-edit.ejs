<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Article</title>
</head>
<body>
    <% if (article) { %>
        <form method="post" action="/admin/article/edit/<%= article.id %>">
            <label for="name">Name</label>
            <input type="text" name="name" id="name" value="<%= article.name %>">

            <label for="slug">Slug</label>
            <input type="text" name="slug" id="slug" value="<%= article.slug %>">

            <label for="image">Image</label>
            <input type="text" name="image" id="image" value="<%= article.image %>">

            <label for="author">Author</label>
            <select name="author_id" id="author" required>
                <% authors.forEach(author => { %>
                    <option value="<%= author.id %>" <%= author.id === article.author_id ? 'selected' : '' %>><%= author.name %></option>
                <% }); %>
            </select>

            <label for="body">Body</label>
            <textarea name="body" id="body"><%= article.body %></textarea>

            <button type="submit">Update</button>
        </form>

        <h2>Delete article</h2>
        <p>If you want to remove this article, use the button below.</p>
        <form method="post">
            <input type="hidden" name="action" value="delete">
            <button type="submit" class="danger">Delete</button>
        </form>
    <% } else { %>
        <p>Article not found.</p>
    <% } %>
</body>
</html>
